# Rewaer

## To-dos:

- [!] ALWAYS : Translate in all three languages
- [!] ALWAYS : Prepare events/notifications

- [?] IDEA : All informations gets stored in an array, and nothing will get overwritten, only added to the array. 
 
- [ ] Items/looks Toolbar:
  - [ ] Quick edits feature
  - [ ] With ctrl, multi select possible, and Quick edits opens
  - [ ] Filtering
  - [ ] multiselect edits
- [ ] Profile:
  - [x] UX: Center column with Max width 
  - [x] Subpage with headers showing Looks and Items
    - [ ] simplified version of cards, with comment and liking function
    - [ ] Friend can propose Look name
    - [x] ofc, private item/look are hidden
    - [ ] Zoomed modus, focus on one look/item 
- [ ] Infinite scrolling + lazy loading
- [ ] Image reworking: 
  - [ ] Ligthen up an image (Dark-Light balance)
  - [ ] Whiten up an image (White balande)
  - [ ] Crop an image
- [ ] when scrolled down, show floating add items button
- [ ] Show floating Feedback button
- [ ] When items are missing basic tags info :
  - [ ] Banner calling for action
  - [ ] view of all article missing tag
  - [ ] Multi tagging of article
- [ ] Redo info page, 
  - [ ] include https://wearme30times.com/  
  - [ ] fashion revolution
- [ ] Drag and Drop to sort Looks and Items
- [ ] When archiving anything, had a undo feature in the notification
- [ ] Due to Url limitation, restrict some username, and characters
- [ ] 404 for the win
- [ ] Darkmode
- [ ] Items Detail Page: 
  - [ ] shared items are possible (between friends)
  - [x] add location
  - [x] rename desc to notes
  - [x] add pattern
  - [x] convert code to string
  - [x] Use right language
  - [ ] Implement Multiselect
  - [x] Implement disabled
  - [ ] Implement space holder as props
  - [x] Implement info/tooltip as props
- [ ] Add friends feature
- [ ] Settings: friends who are allowed to see you private stuff
- [ ] Follow someone feature
- [ ] Tips popping up 
  - [ ] ~Use backspace to return to main view~
  - [ ] use Arrow to naviguate through items/Looks
- [ ] Title editable : Input vs ContentEditable
- [ ] <ExclamationCircleOutlined /> on items not fully taged
- [ ] Make nice Footer to make it look pro
- [ ] Get only friends in getUser which are not pending
- [ ] Create resolver for UserFriends (to manage pending requests)
- [ ] Finish the "visitor" mode of the Menubar + Setting parameter to hide profile from non-logged user
- [ ] Implement the search function to find
  - [ ] Friends (Settings make not findable)
  - [ ] Looks (Settings: make not findable)
  - [ ] Items (Settings: make not findable)
- [ ] Make site responsive! 
  - [x] Login + Pwd Recover
  - [x] SignUp + Email Check
  - [x] MenuBar
  - [ ] Profil
  - [ ] Looks
  - [ ] Items
- [ ] Service Worker
  - [ ]  https://developer.chrome.com/docs/workbox/service-worker-overview/
  - [ ]  https://blog.bitsrc.io/using-service-workers-with-react-27a4c5e2d1a9
  

## Completed ✓

- [x] Set up route for User + database handling
- [x] Set up the rest of the database
  - [x] Define the other collection (model: Looks)
  - [x] Define the other collection (model: Items)
  - [x] Import old look data from MySQL
  - [x] Import pictures from FTP
- [x] Implement GraphQL
  - [x] First Steps
  - [x] Create all Schemas
  - [x] Create all Resolvers
- [x] Encrypt passwords
- [x] Implement Auth
- [x] Create admin@rewaer.com email
- [x] Clean resolvers
- [x] Store image data
  - [x] Create AWS S3 bucket
  - [x] Rest API 'upload'
  - [x] Save image in s3 bucket
  - [x] return a fileURL to FE
- [x] Refresh JWT token (auth server)
- [x] Restraint/filter result for userID (is_auth delivers the user ID)
- [x] Generate thumbnail
  - [x] create a thumbs endpoint
  - [x] create thumbnail in upload endpoint
  - [x] upload thumbnail to S3
  - [x] return thumbnail Url to front end
  - [x] adapt look and item models for mediaURLthumb/medium
- [x] Login feature
- [x] Dummy graphql query to wake up heroku backend
- [x] Handle error on connection failure with backend
- [x] Persist token in localStorage
- [x] Use new Auth server (BackEnd)
- [x] Implement refresh Token
  - [x] Stop persisting token in local var
  - [x] Start persisting refreshtoken in local var
  - [x] Kill refresh token on logout
  - [x] Handle when token not valid anymore
- [x] Check and handle validity of refresh token
- [x] Handle errors from backend (and display those)
  - [x] Show login error: email not known
  - [x] Show login error: wrong password
  - [x] Show logout error
  - [x] Show successful login
  - [x] Show successful logout
- [x] Looks: Show loading ot user
  - [x] Spinner when fetching looks from API
  - [x] Spinner when loading images of card component
  - [x] Thumbnail images during loading
- [x] Remember me feature
- [x] getNewToken() as context function
- [x] Add Delete look/item feature
- [x] Use Axios interceptors if token not valid
- - [x] Upload Images
  - [x] Front end to Rest API
  - [x] Handling request in Backend
  - [x] Backend to AWS S3
  - [x] Create Thumbnail on upload
- [X] On loading error, show error and redirect
- [x] First refactoring round:
  - [x] Rewrite fetch to use axios if auth relevant
  - [x] as many stateless component as possible
  - [x] check state usage in already created component
  - [x] Check class vs function component
  - [x] Take API-fetch-code, out from component
  - [x] Implement MobX instead of using context
  - [x] Create an Authorisation Store to hanble token and login
  - [x] Create a store to handle profil data
- [x] New Auth logic taken from merrier 
- [x] Refactoring del la muerte:
  - [x] Kill Mongoose, use Sequelize
  - [x] Rewrite GraphQl Resolvers
  - [x] Rewrite Rest Controller
  - [x] Rewrite all call from frontend    
- [x] Loading State before everything is fetched
- [x] Empty cards to align last row of cards to the left 
- [x] Bug fix: Email should be not be case sensitive 
- [x] Account creation: check that username is not an email
- [x] Settings: 
  - [x] Select gender
  - [x] Trigger change password
  - [x] Archive/Delete account
    - [x] Confirm box showing for 5 seconds
    - [x] Reloging reactivate account (Archived = false)
  - [x] Change username
  - [x] UX: Center column with Max width 
- [x] Items/looks : Allow multi-upload and dragdrop
- [x] BugFix: If old Title = new Title, then no update
- [x] LoadImage helper function + spinner on load
- [x] Bug: Private update should reflect in store
- [x] Detail View Looks
- [x] Settings: Show archived items/looks
- [x] Count how many items are private and act accordingly
- [x] Settings: per defaut show or hide Private
- [x] Implement Season info for looks 
- [x] Create own Card component
  - [x] picture cover, not stretched
  - [x] Editable title
  - [x] Tool panel
  - [x] Link zu detail view
  - [x] Tag as favorite (heart icon)
  - [x] archive/restore feature
  - [x] Show like-counter (placeholder) 
    - [x] Use Thumbs up for like
    - [x] Use Thumb down for dislike
- [x] create friends and follower Model/table and linked those to the USer model (graphQL/sequelize endpoint)
- [x] Bug: making something private, unhide all private items
- [x] Helper function to convert code to its full string value
- [x] Detail View Item
- [x] Bug: SubMenu always stays shown, won't hide
- [x] Settings: Show last name in profil?
- [x] On detail view, scroll up after saving original Scroll position
- [x] On leave detail view, scroll down to original Scroll position
- [x] Webpack config file > add "copy webpack plugin" with content from public (except index.html)
- [x] Use Sharp Library instead of Jimp
- [x] BE: Do not save temp img data on disc to fix memory leak  
- [x] On Logout, empty all Stores
- [x] Bug: Token expired should redirect to login
- [x] Like/Dislikes Item/Looks feature
- [x] Leave item detailview with browser back function 
- [x] Leave look detailview with browser back function 
- [x] Navigation with Arrows in item/look -detailview
- [x] Include a manifest to use Page as an App