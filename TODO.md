# Rewaer

## To-dos:

- [!] ALWAYS : Translate in all three languages
- [!] ALWAYS : Prepare events/notifications

- [?] IDEA : All informations gets stored in an array, and nothing will get overwritten, only added to the array. 
 
- [ ] Toolbar:
  - [ ] Quick edits feature
  - [ ] With ctrl, multi select possible, and Quick edits opens
  - [ ] Filtering
  - [ ] multiselect edits
- [ ] Profile:
  - [ ] Show number of looks/items/friends in Profil
  - [ ] UX: Center column with Max width 
- [ ] Settings: 
  - [x] Select gender
  - [x] Trigger change password
  - [x] Archive/Delete account
    - [x] reloging reactivate account (Archived = false)
  - [ ] UX: Center column with Max width 
  - [x] Change username
- [ ] Use custom image component for images
- [ ] Create own Card component
  - [ ] picture cover, not stretched
- [ ] infinite scrolling + lazy loading
- [ ] On no-file select, do not create item/look
- [ ] Image reworking: 
  - [ ] Ligthen up an image (Dark-Light balance)
  - [ ] Whiten up an image (White balande)
  - [ ] Crop an image
- [ ] Allow multi-upload and dragdrop (take from kinkograph)
- [ ] when scrolled down, show floating add items button
- [ ] shared items are possible (between friends)
- [ ] When items are missing basic tags info :
  - [ ] Banner calling for action
  - [ ] view of all article missing tag
  - [ ] Multi tagging of article
- [ ] Show <ExclamationCircleOutlined /> on items not fully taged
- [ ] Make site responsive! 
- [ ] Redo info page, 
  - [ ] include https://wearme30times.com/  
  - [ ] fashion revolution

## Completed ✓

- [x] Set up route for User + database handling
- [x] Set up the rest of the database
  - [x] Define the other collection (model: Looks)
  - [x] Define the other collection (model: Items)
  - [x] Import old look data from MySQL
  - [x] Import pictures from FTP
- [x] Implement GraphQL
  - [x] First Steps
  - [x] Create all Schemas
  - [x] Create all Resolvers
- [x] Encrypt passwords
- [x] Implement Auth
- [x] Create admin@rewaer.com email
- [x] Clean resolvers
- [x] Store image data
  - [x] Create AWS S3 bucket
  - [x] Rest API 'upload'
  - [x] Save image in s3 bucket
  - [x] return a fileURL to FE
- [x] Refresh JWT token (auth server)
- [x] Restraint/filter result for userID (is_auth delivers the user ID)
- [x] Generate thumbnail
  - [x] create a thumbs endpoint
  - [x] create thumbnail in upload endpoint
  - [x] upload thumbnail to S3
  - [x] return thumbnail Url to front end
  - [x] adapt look and item models for mediaURLthumb/medium
- [x] Login feature
- [x] Dummy graphql query to wake up heroku backend
- [x] Handle error on connection failure with backend
- [x] Persist token in localStorage
- [x] Use new Auth server (BackEnd)
- [x] Implement refresh Token
  - [x] Stop persisting token in local var
  - [x] Start persisting refreshtoken in local var
  - [x] Kill refresh token on logout
  - [x] Handle when token not valid anymore
- [x] Check and handle validity of refresh token
- [x] Handle errors from backend (and display those)
  - [x] Show login error: email not known
  - [x] Show login error: wrong password
  - [x] Show logout error
  - [x] Show successful login
  - [x] Show successful logout
- [x] Looks: Show loading ot user
  - [x] Spinner when fetching looks from API
  - [x] Spinner when loading images of card component
  - [x] Thumbnail images during loading
- [x] Remember me feature
- [x] getNewToken() as context function
- [x] Add Delete look/item feature
- [x] Use Axios interceptors if token not valid
- - [x] Upload Images
  - [x] Front end to Rest API
  - [x] Handling request in Backend
  - [x] Backend to AWS S3
  - [x] Create Thumbnail on upload
- [X] On loading error, show error and redirect
- [x] First refactoring round:
  - [x] Rewrite fetch to use axios if auth relevant
  - [x] as many stateless component as possible
  - [x] check state usage in already created component
  - [x] Check class vs function component
  - [x] Take API-fetch-code, out from component
  - [x] Implement MobX instead of using context
  - [x] Create an Authorisation Store to hanble token and login
  - [x] Create a store to handle profil data
- [x] New Auth logic taken from merrier 
- [x] Refactoring del la muerte:
  - [x] Kill Mongoose, use Sequelize
  - [x] Rewrite GraphQl Resolvers
  - [x] Rewrite Rest Controller
  - [x] Rewrite all call from frontend    
- [x] Loading State before everything is fetched
- [x] Empty cards to align last row of cards to the left 
- [x] Bug fix: Email should be not be case sensitive 
- [x] Account creation: check that username is not an email
