(this.webpackJsonprewaer_frontend=this.webpackJsonprewaer_frontend||[]).push([[0],{276:function(e,t,n){},283:function(e,t){},285:function(e,t){},298:function(e,t){},300:function(e,t){},328:function(e,t){},330:function(e,t){},331:function(e,t){},336:function(e,t){},338:function(e,t){},357:function(e,t){},369:function(e,t){},372:function(e,t){},406:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},477:function(e,t,n){},485:function(e,t,n){},486:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){},491:function(e,t,n){},497:function(e,t,n){},498:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(28),s=n.n(o),c=(n(276),n(15)),i=n.n(c),l=n(25),u=n(69),h=n(30),d=n(41),p=n(16),j=n(265),f=function(e,t,n,r){j.a.open({message:e,description:t,duration:n,type:r,placement:"bottomRight"})},m=n(180),b=n.n(m),O=new function e(){var t=this;Object(d.a)(this,e),this.token=null,this.refreshToken=localStorage.getItem("refreshToken")||null,this.login=function(e,n){t.token=e,t.refreshToken=n},this.logout=function(){localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.clear();var e={refreshToken:t.refreshToken};t.token=null,t.refreshToken=null,fetch("https://auth-cvs.herokuapp.com/logout",{method:"DELETE",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(204!==e.status)throw f("Error "+e.status,"Error on logout: The refresh token was not found in the token database.",3,"error"),new Error("Error when logout!");f("You have successfully logged out.","",3,"success")})).catch((function(e){console.log(e)}))},this.getNewToken=function(){var e=localStorage.getItem("refreshToken");if(e){var n=b.a.decode(e,{complete:!0}),r=new Date;1e3*n.payload.exp<r.getTime()?t.logout():t.refreshToken=e}if(null!==t.token){var a=b.a.decode(t.token,{complete:!0}),o=new Date;if(!(a.payload.exp<Math.floor(o.getTime()/1e3)))return t.token;t.token=null}else if(t.refreshToken){var s={refreshToken:t.refreshToken};return fetch("https://auth-cvs.herokuapp.com/token",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){if(201!==e.status)throw t.logout(),new Error("Error when refreshing the token!");return e.json()})).then((function(e){if(localStorage.setItem("refreshToken",e.refreshToken),e.token)return t.login(e.token,e.refreshToken),e.token})).catch((function(e){console.log(e)}))}},Object(p.m)(this,{token:p.n,refreshToken:p.n,login:p.f,logout:p.f,getNewToken:p.f})},x=n(148),g=n(32),y=n.n(g),k=n(55),w=n(57),v=n(56),T=n(506),S=n(508),I=n(511),C=n(111),N=n(512),_=n(513),q=n(514),E=n(152),F=n(270),U=(n(406),n(4)),D=function(e){Object(w.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).switchModeHandler=function(){r.setState((function(e){return{isLogin:!e.isLogin}}))},r.state={isLogin:!0},r}return Object(k.a)(n,[{key:"render",value:function(){var e=this;return Object(U.jsxs)(T.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){var n=t.email,r=t.password,a=t.remember,o={email:n,password:r};function s(){return(s=Object(l.a)(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rewaer.herokuapp.com/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=10;break}return e.next=6,t.json();case 6:throw n=e.sent,f(n.errors[0].message,"",3,"warning"),r="An error has occured: ".concat(t.status," - ").concat(n.errors[0].message),new Error(r);case 10:return e.next=12,t.json();case 12:return a=e.sent,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(l.a)(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://auth-cvs.herokuapp.com/login",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=10;break}return e.next=6,t.json();case 6:throw n=e.sent,f(n.error,"",3,"warning"),r="An error has occured: ".concat(t.status," - ").concat(n.error),new Error(r);case 10:return e.next=12,t.json();case 12:return a=e.sent,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(l.a)(i.a.mark((function e(t){var n,r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:"\n                query {\n                  user {\n                    name\n                    email\n                    dateCreated\n                    avatar\n                    active\n                  }\n                }\n                  "},e.next=3,fetch("https://rewaer.herokuapp.com/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 3:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=11;break}return e.next=7,r.json();case 7:throw a=e.sent,f("Error "+r.status,a.error,0,"error"),o="An error has occured: ".concat(r.status),new Error(o);case 11:return e.next=13,r.json();case 13:return s=e.sent,e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(e.state.isLogin)(function(){return c.apply(this,arguments)})().then((function(e){O.login(e.token,e.refreshToken),!0===a&&(localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("userId",e.userId)),f("You have successully log in.","",3,"success"),function(e){return u.apply(this,arguments)}(e.token).then((function(e){var t=e.data.user[0];localStorage.setItem("user",JSON.stringify(t))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}));else{var h=t.username;o={query:'\n              mutation {\n                  createUser(\n                    userInput: { name: "'.concat(h,'", email: "').concat(n,'", password: "').concat(r,'" }\n                  ) {\n                    name\n                  }\n                }\n                ')},function(){return s.apply(this,arguments)}().then((function(e){var t=e.data.createUser.name;f("Account successully created.","Kudos to you "+t+"! You can now log into your account.",5,"success")})).catch((function(e){console.log(e.message)}))}},children:[Object(U.jsx)(T.a.Item,{name:"username",hidden:this.state.isLogin,rules:[{required:!this.state.isLogin,message:"How should we call you?"}],children:Object(U.jsx)(S.a,{prefix:Object(U.jsx)(N.a,{className:"site-form-item-icon"}),placeholder:"Name"})}),Object(U.jsx)(T.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(U.jsx)(S.a,{prefix:Object(U.jsx)(_.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(U.jsx)(T.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(U.jsx)(S.a.Password,{prefix:Object(U.jsx)(q.a,{className:"site-form-item-icon"}),placeholder:"input Password",iconRender:function(e){return e?Object(U.jsx)(E.a,{}):Object(U.jsx)(F.a,{})}})}),Object(U.jsxs)(T.a.Item,{hidden:!this.state.isLogin,children:[Object(U.jsx)(T.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(U.jsx)(I.a,{children:"Remember me"})}),Object(U.jsx)("a",{className:"login-form-forgot",href:"/#",children:"Recover password"})]}),Object(U.jsxs)(T.a.Item,{children:[Object(U.jsx)(C.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:this.state.isLogin?"Log in":"Create account"}),"Or"," ",Object(U.jsx)("span",{style:{color:"#6C917D",cursor:"pointer"},onClick:this.switchModeHandler,children:this.state.isLogin?"register now!":"log into your account!"})]})]})}}]),n}(r.Component),R=(n(475),function(e){Object(w.a)(n,e);var t=Object(v.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){return Object(U.jsx)("div",{className:"auth__main",children:Object(U.jsx)("div",{className:"auth__centeredlogin",children:Object(U.jsx)(D,{})})})}}]),n}(r.Component)),P=n(39),L=n(63),M=n(500),A=n(95);function Y(){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"\n            query {\n                looks {\n                  _id\n                  title\n                  active\n                  favorite\n                  mediaUrlThumb\n                }\n              }\n              "},e.next=3,y()({url:"https://rewaer.herokuapp.com/graphql",method:"POST",data:t});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=6;break}throw new Error("Unauthenticated!");case 6:return e.next=8,n.data.data.looks;case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=n(503),J=n(504),H=n(501),W=n(515),K=n(269);function V(){return(V=Object(l.a)(i.a.mark((function e(t,n,r){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},"look"!==r){e.next=5;break}a={query:'\n                mutation {\n                    updateLook(\n                        lookId: "'.concat(n,'"\n                        lookInput: { title: "').concat(t,'" }\n                    ) {\n                        title\n                    }\n                }\n                ')},e.next=10;break;case 5:if("item"!==r){e.next=9;break}a={query:'\n                mutation {\n                    updateItem(\n                        itemId: "'.concat(n,'"\n                        itemInput: { title: "').concat(t,'" }\n                    ) {\n                        title\n                    }\n                }\n                ')},e.next=10;break;case 9:throw new Error("Type missing!");case 10:return e.next=12,y()({url:"https://rewaer.herokuapp.com/graphql",method:"POST",data:a});case 12:if(!(200!==(o=e.sent).status&201!==o.status)){e.next=16;break}throw j.a.error({message:"Unauthenticated!",placement:"bottomRight"}),new Error("Unauthenticated!");case 16:return console.log(o),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(476);var G=function(e){var t=Object(r.useState)(e.title.replace(/ /g,"").length>23?"".concat(e.title.replace("-","/").replace(/ /g,"").slice(0,23),"..."):e.title.replace("-","/").replace(/ /g,"")),n=Object(P.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(!1),c=Object(P.a)(s,2),i=c[0],l=c[1],u=Object(r.useState)(e.title.replace("-","/")),h=Object(P.a)(u,2),d=h[0],p=h[1],f=function(t){(function(e,t,n){return V.apply(this,arguments)})(t,e.id,e.type).catch((function(e){j.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))};return Object(U.jsx)("div",{children:i?Object(U.jsx)(S.a,{size:"small",className:"title__input",value:d,onChange:function(e){p(e.target.value)},onBlur:function(){l(!1),p(e.title.replace("-","/")),console.log("cancel")},onPressEnter:function(){f(d.replace("/","-")),o(d.replace(/ /g,"").length>23?"".concat(d.replace("-","/").replace(/ /g,"").slice(0,23),"..."):d.replace("-","/").replace(/ /g,"")),l(!1)}},"title_input_".concat(e.id)):Object(U.jsx)("div",{className:"Page__title",onDoubleClick:function(){l(!0)},children:a})})};function Q(){return(Q=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:'\n            mutation {\n                deleteLook(lookId: "'.concat(t,'") {\n                _id\n                }\n            }\n            ')},e.next=3,y()({url:"https://rewaer.herokuapp.com/graphql",method:"POST",data:n});case 3:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=6;break}throw new Error("Unauthenticated!");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(477);var X=B.a.Meta,Z=function(e){var t=Object(U.jsx)("div",{className:"card__spinner",children:Object(U.jsx)(M.a,{size:"middle"})});return Object(U.jsx)(B.a,{hoverable:!0,bordered:!0,style:{width:240,marginBottom:30,height:385},cover:Object(U.jsx)(J.a,{alt:e.look.title,src:e.look.mediaUrlThumb,placeholder:t,width:240,height:320}),children:Object(U.jsx)(X,{title:Object(U.jsxs)("div",{children:[Object(U.jsx)(G,{title:e.look.title,id:e.look._id,type:"look"}),Object(U.jsx)(H.a,{title:"Are you sure to delete this look?",onConfirm:function(){(function(e){return Q.apply(this,arguments)})(e.look._id).then((function(){j.a.success({message:"Look deleted successfully.",placement:"bottomRight",icon:Object(U.jsx)(W.a,{style:{color:"green"}})}),e.setIsOutOfDate(!0),console.log("Success!")})).catch((function(e){j.a.error({message:"Error!",placement:"bottomRight"}),console.log(e.message)}))},okText:"Delete",cancelText:"Cancel",icon:Object(U.jsx)(K.a,{style:{color:"red"}}),children:Object(U.jsx)(W.a,{})})]})})})},$=n(147),ee=n.n($),te=n(516),ne=(n(485),function(e){var t=Object(r.useState)(!1),n=Object(P.a)(t,2),a=n[0],o=n[1],s=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),c(t.target.files[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var t=Object(l.a)(i.a.mark((function t(n){var r,a,s,c,u,h,d,p,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){return(s=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({url:"https://rewaer.herokuapp.com/graphql",method:"POST",data:t});case 2:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=6;break}throw j.a.error({message:"Unauthenticated!",placement:"bottomRight"}),new Error("Unauthenticated!");case 6:return e.next=8,n.data;case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e){return s.apply(this,arguments)},(r=new FormData).append("file",n),t.prev=4,t.next=7,y.a.post("https://rewaer.herokuapp.com/upload",r);case 7:c=t.sent,u=c.data.imageUrl,h=c.data.thumbUrl,d=c.data.mediumUrl,p=ee()().format("DD.MM.YYYY"),f={query:'\n            mutation {\n                createLook(\n                  lookInput: { mediaUrl: "'.concat(u,'", \n                               mediaUrlThumb: "').concat(h,'",\n                               mediaUrlMedium: "').concat(d,'",\n                               title: "').concat(p,'" }\n                ) {\n                  _id\n                }\n              }\n              ')},a(f).then((function(){j.a.success({message:"File uploaded successfully.",placement:"bottomRight"}),e.setIsOutOfDate(!0),console.log("Success!")})).catch((function(e){j.a.error({message:"File upload failed.",placement:"bottomRight"}),console.log(e.message)})),o(!1),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(4),j.a.error({message:"File upload failed.",placement:"bottomRight"}),o(!1),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(U.jsx)(r.Fragment,{children:Object(U.jsxs)("form",{onSubmit:c,style:{marginBottom:"30px"},children:[Object(U.jsx)("input",{type:"file",className:"inputfile",name:"inputfile",id:"file",onChange:s}),a?Object(U.jsx)("label",{htmlFor:"file",children:Object(U.jsx)(M.a,{size:"large"})}):Object(U.jsxs)("label",{htmlFor:"file",children:[Object(U.jsx)("p",{className:"form-upload-drag-icon",children:Object(U.jsx)(te.a,{})}),Object(U.jsx)("p",{className:"form-upload-text",children:"Create Look"}),Object(U.jsxs)("p",{className:"form-upload-hint",children:["Start with a photo ",Object(U.jsx)("br",{}),"Click, or drag here a file"]})]})]})})}),re=(n(486),function(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!0),s=Object(P.a)(o,2),c=s[0],u=s[1],h=Object(r.useState)(!0),d=Object(P.a)(h,2),p=d[0],j=d[1],f=Object(r.useState)(null),m=Object(P.a)(f,2),b=m[0],O=m[1];Object(r.useEffect)((function(){x()}),[c]);var x=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y();case 3:t=e.sent,a(t),j(!1),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),O(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=n.map((function(e){return Object(U.jsx)(L.a,{children:Object(U.jsx)(Z,{look:e,setIsOutOfDate:u})},e._id)}));return Object(U.jsx)("div",{children:null!==b?b:p?Object(U.jsx)("div",{className:"looks__spinner",children:Object(U.jsx)(M.a,{size:"large"})}):Object(U.jsxs)(A.a,{justify:"space-around",children:[Object(U.jsx)(L.a,{children:Object(U.jsx)(ne,{setIsOutOfDate:u})}),g]})})});function ae(){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"\n              query {\n                  items {\n                    _id\n                    user\n                    title\n                    active\n                    favorite\n                    dateCreated\n                    mediaUrlThumb\n                  }\n                }\n                "},e.next=3,y()({url:"https://rewaer.herokuapp.com/graphql",method:"POST",data:t});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=6;break}throw new Error("Unauthenticated!");case 6:return e.next=8,n.data.data.items;case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:'\n            mutation {\n                deleteItem(itemId: "'.concat(t,'") {\n                _id\n                }\n            }\n            ')},e.next=3,y()({url:"https://rewaer.herokuapp.com/graphql",method:"POST",data:n});case 3:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=6;break}throw new Error("Unauthenticated!");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(487);var ce=B.a.Meta,ie=function(e){var t=Object(U.jsx)("div",{className:"card__spinner",children:Object(U.jsx)(M.a,{size:"middle"})});return Object(U.jsx)(B.a,{hoverable:!0,bordered:!0,style:{width:240,marginBottom:30,height:385},cover:Object(U.jsx)(J.a,{alt:e.item.title,src:e.item.mediaUrlThumb,placeholder:t,width:240,height:320}),children:Object(U.jsx)(ce,{title:Object(U.jsxs)("div",{children:[Object(U.jsx)(G,{title:e.item.title,id:e.item._id,type:"item"}),Object(U.jsx)(H.a,{title:"Are you sure to delete this item?",onConfirm:function(){(function(e){return se.apply(this,arguments)})(e.item._id).then((function(){j.a.success({message:"Item deleted successfully.",placement:"bottomRight",icon:Object(U.jsx)(W.a,{style:{color:"green"}})}),e.setIsOutOfDate(!0),console.log("Success!")})).catch((function(e){j.a.error({message:"Error!",placement:"bottomRight"}),console.log(e.message)}))},okText:"Delete",cancelText:"Cancel",icon:Object(U.jsx)(K.a,{style:{color:"red"}}),children:Object(U.jsx)(W.a,{})})]})})})},le=n(517),ue=(n(488),function(e){var t=Object(r.useState)(!1),n=Object(P.a)(t,2),a=n[0],o=n[1],s=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),c(t.target.files[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var t=Object(l.a)(i.a.mark((function t(n){var r,a,s,c,u,h,d,p,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){return(s=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({url:"https://rewaer.herokuapp.com/graphql",method:"POST",data:t});case 2:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=6;break}throw j.a.error({message:"Unauthenticated!",placement:"bottomRight"}),new Error("Unauthenticated!");case 6:return e.next=8,n.data;case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e){return s.apply(this,arguments)},(r=new FormData).append("file",n),t.prev=4,t.next=7,y.a.post("https://rewaer.herokuapp.com/upload",r);case 7:c=t.sent,u=c.data.imageUrl,h=c.data.thumbUrl,d=c.data.mediumUrl,p=ee()().format("DD.MM.YYYY"),f={query:'\n            mutation {\n                createItem(\n                  itemInput: { mediaUrl: "'.concat(u,'", \n                               mediaUrlThumb: "').concat(h,'",\n                               mediaUrlMedium: "').concat(d,'",\n                               title: "').concat(p,'" }\n                ) {\n                  _id\n                }\n              }\n              ')},console.log("requestBody",f),a(f).then((function(){j.a.success({message:"File uploaded successfully.",placement:"bottomRight"}),e.setIsOutOfDate(!0),console.log("Success!")})).catch((function(e){j.a.error({message:"File upload failed.",placement:"bottomRight"}),console.log(e.message)})),o(!1),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(4),j.a.error({message:"File upload failed.",placement:"bottomRight"}),o(!1),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[4,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(U.jsx)(r.Fragment,{children:Object(U.jsxs)("form",{onSubmit:c,style:{marginBottom:"30px"},children:[Object(U.jsx)("input",{type:"file",className:"inputfile",name:"inputfile",id:"file",onChange:s}),a?Object(U.jsx)("label",{htmlFor:"file",children:Object(U.jsx)(M.a,{size:"large"})}):Object(U.jsxs)("label",{htmlFor:"file",children:[Object(U.jsx)("p",{className:"form-upload-drag-icon",children:Object(U.jsx)(le.a,{})}),Object(U.jsx)("p",{className:"form-upload-text",children:"Add Item"}),Object(U.jsxs)("p",{className:"form-upload-hint",children:["Start with a photo ",Object(U.jsx)("br",{}),"Click, or drag here a file"]})]})]})})}),he=(n(489),function(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!1),s=Object(P.a)(o,2),c=s[0],u=s[1],h=Object(r.useState)(!0),d=Object(P.a)(h,2),p=d[0],j=d[1],f=Object(r.useState)(null),m=Object(P.a)(f,2),b=m[0],O=m[1];Object(r.useEffect)((function(){x()}),[c]);var x=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:t=e.sent,a(t),j(!1),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),O(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=n.map((function(e){return Object(U.jsx)(L.a,{children:Object(U.jsx)(ie,{item:e,setIsOutOfDate:u})},e._id)}));return Object(U.jsx)("div",{children:null!==b?b:p?Object(U.jsx)("div",{className:"looks__spinner",children:Object(U.jsx)(M.a,{size:"large"})}):Object(U.jsxs)(A.a,{justify:"space-around",children:[Object(U.jsx)(L.a,{children:Object(U.jsx)(ue,{setIsOutOfDate:u})}),g]})})}),de=function(e){Object(w.a)(n,e);var t=Object(v.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){return Object(U.jsx)("h1",{children:"Messenger"})}}]),n}(r.Component),pe=function(e){Object(w.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={persons:[]},e}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=this;y.a.get("https://jsonplaceholder.typicode.com/users").then((function(t){var n=t.data;e.setState({persons:n})}))}},{key:"render",value:function(){return Object(U.jsx)("ul",{children:this.state.persons.map((function(e){return Object(U.jsx)("li",{children:e.name})}))})}}]),n}(a.a.Component),je=n(505),fe=n(502),me=je.a.Title,be=je.a.Paragraph,Oe=je.a.Text,xe=function(e){Object(w.a)(n,e);var t=Object(v.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){return Object(U.jsxs)("div",{children:[Object(U.jsx)(me,{level:2,children:"Rew\xe6r, the green Fashion App"}),Object(U.jsx)(be,{children:Object(U.jsxs)(Oe,{type:"secondary",children:["The Fashion App for minimalistic and sustainable geniuses! ",Object(U.jsx)("br",{}),Object(U.jsx)("span",{style:{background:"#6d917e",color:"#FFFFFF",padding:"2px 3px"},children:"Renew your garderobe without buying: only trees should get new leaves every years."})]})}),Object(U.jsxs)(be,{copyable:{text:"admin@rewear.com",tooltips:["Copy email","Email copied!"]},children:["Please address any questions/comments to ",Object(U.jsx)("b",{children:"admin@rewear.com."})]}),Object(U.jsx)(fe.a,{plain:!0,children:"What is Rew\xe6r?"}),Object(U.jsxs)(be,{ellipsis:{rows:3,expandable:!0,symbol:"more"},children:["Rew\xe6r is promoting green fashion based on the principle that"," ",Object(U.jsx)("span",{style:{background:"#C8D6CF"},children:"the most sustainable piece of clothing is the one you already have"}),". Offered as a multiplatform application - Web, iOS and Android - it aims at organising your garderobe, keep track of your favorites looks and helps you discover new combination to wear the clothes you already have. It has two main components: fashion organisator and social media. Those two are linked as you can authorise friends to have a look in your garderobe to help you create looks based on your items. You can also use the app to open your garderobe in-real-life and share items with your hand pick best friends."]}),Object(U.jsx)(fe.a,{plain:!0,children:"Why do you need it?"}),Object(U.jsxs)(be,{ellipsis:{rows:3,expandable:!0,symbol:"more"},children:[Object(U.jsx)("em",{children:"I don't know what to wear! Do I need new clothes?"})," Fashion accounts for around 10% of greenhouse gas emissions from human activity, but there are ways to reduce the impact your wardrobe has on the climate:"," ",Object(U.jsx)("span",{style:{background:"#C8D6CF"},children:"not buying new clothes you don't need"})," ","is one of those solution. Or buying quality things that will last. Or simply getting items you can combine with the stuff you already have, and avoid having unworn brandnew stuff laying around forever in your drawer. But also,"," ",Object(U.jsx)("span",{style:{background:"#C8D6CF"},children:"Rew\xe6r is your own stylist"}),": by keeping track of your favorite styles and items, it will help you get dress, to style items you like and own but never think of wearing - or know how to wear; and get your friends to help you with it! Without buying anything new, you will rediscover your own clothes, and have the feeling of a brand new garderobe, without spending a cent!"," "]}),Object(U.jsx)(fe.a,{plain:!0,children:"How far are we?"}),Object(U.jsxs)(be,{ellipsis:{rows:3,expandable:!0,symbol:"more"},children:["We are still working on a first version including the minimum viables features. The backend is done, and the first prototype will be ready soon and open to any willing beta tester!"," ",Object(U.jsx)("span",{style:{background:"#C8D6CF"},children:"You can already create an account"}),", and we will ping out when it's ready! The first feature includes the main garderobe functions: mangement of ",Object(U.jsx)("em",{children:"Items"})," and"," ",Object(U.jsx)("em",{children:"Looks"}),", and basic social fonctionalities."]}),Object(U.jsx)(fe.a,{}),Object(U.jsxs)(be,{disabled:!0,children:["App running in ","production"," mode.",Object(U.jsx)("br",{}),"\xa92021 Rew\xe6r All Rights Reserved"]})]})}}]),n}(r.Component),ge=new function e(){Object(d.a)(this,e),this.user=JSON.parse(localStorage.getItem("user")),this.userId=localStorage.getItem("userId"),Object(p.m)(this,{user:p.n,userId:p.n})},ye=je.a.Title,ke=je.a.Paragraph,we=Object(x.a)((function(){return Object(U.jsxs)("div",{children:[Object(U.jsxs)(ye,{level:3,children:["Hello, ",ge.user?ge.user.name:"there"]}),Object(U.jsxs)(ke,{copyable:!0,children:[Object(U.jsx)("b",{children:"User ID:"})," ",ge.userId]}),!1]})})),ve=n(507),Te=n(510),Se=n(509),Ie=n(518),Ce=n(519),Ne=n(520),_e=(n(491),ve.a.SubMenu),qe=function(e){Object(w.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).handleClick=function(e){r.setState({menuSelected:e.key})},r.state={menuSelected:null},r}return Object(k.a)(n,[{key:"render",value:function(){var e=this.state.menuSelected;return Object(U.jsxs)(ve.a,{onClick:this.handleClick,selectedKeys:[e],mode:"horizontal",style:{margin:"5px 0px"},children:[Object(U.jsx)("span",{className:"menu__RewaerMotto",style:{color:"#6C917D",float:"left",margin:"0px 20px 0px 20px"},children:"Rew\xe6r, the green Fashion App"}),O.refreshToken?Object(U.jsx)(_e,{title:Object(U.jsx)(u.b,{to:"/profile",children:Object(U.jsx)(Te.a,{count:5,offset:[0,5],children:Object(U.jsx)(Se.a,{src:"https://avatars0.githubusercontent.com/u/12551446",size:"large"})})}),style:{float:"right"},onClick:O.logout,children:Object(U.jsx)(ve.a.Item,{icon:Object(U.jsx)(Ie.a,{}),children:"Logout"},"setting:2")},"profile"):Object(U.jsx)(ve.a.Item,{icon:Object(U.jsx)(N.a,{}),style:{float:"right"},children:Object(U.jsx)(u.b,{to:"/auth",children:" Login"})},"auth"),Object(U.jsx)(ve.a.Item,{icon:Object(U.jsx)(te.a,{}),disabled:!O.refreshToken,style:{float:"left"},children:Object(U.jsx)(u.b,{to:"/looks",children:" Looks"})},"looks"),Object(U.jsx)(ve.a.Item,{icon:Object(U.jsx)(le.a,{}),disabled:!O.refreshToken,style:{float:"left"},children:Object(U.jsx)(u.b,{to:"/items",children:" Items"})},"items"),Object(U.jsx)(ve.a.Item,{icon:Object(U.jsx)(_.a,{}),disabled:!0,style:{float:"left"},children:Object(U.jsx)(u.b,{to:"/mail",children:" Mail"})},"mail"),Object(U.jsx)(ve.a.Item,{icon:Object(U.jsx)(Ce.a,{}),disabled:!0,style:{float:"left"},children:Object(U.jsx)(u.b,{to:"/friends",children:" Friends"})},"friends"),Object(U.jsx)(ve.a.Item,{style:{float:"left"},children:Object(U.jsxs)(u.b,{to:"/info",children:["\xa0\xa0",Object(U.jsx)(Ne.a,{})]})},"info")]})}}]),n}(r.Component),Ee=(n(497),Object(x.a)((function(){return Object(r.useEffect)((function(){O.refreshToken&&O.login(O.getNewToken(),O.refreshToken),fetch("https://rewaer.herokuapp.com/graphql",{method:"POST",body:JSON.stringify({query:"\n                query {\n                  dummy {\n                    dummy\n                    }\n                  }\n                "}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){f("Connection to server failed!","The connection could not be established with the backend server.",0,"warning"),console.log(e)})),y.a.interceptors.request.use(function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.token){e.next=6;break}return e.next=3,O.token;case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,O.getNewToken();case 8:e.t0=e.sent;case 9:return n=e.t0,t.headers={Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},t.validateStatus=function(e){return!0},e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}))}),[]),Object(U.jsx)("div",{children:Object(U.jsx)(u.a,{children:Object(U.jsxs)(a.a.Fragment,{children:[Object(U.jsx)(qe,{}),Object(U.jsx)("main",{className:"main-content",children:Object(U.jsxs)(h.d,{children:[!O.refreshToken&&Object(U.jsx)(h.a,{from:"/",to:"/auth",exact:!0}),!O.refreshToken&&Object(U.jsx)(h.b,{path:"/auth",component:R}),!O.refreshToken&&Object(U.jsx)(h.a,{from:"/looks",to:"/auth",exact:!0}),!O.refreshToken&&Object(U.jsx)(h.a,{from:"/items",to:"/auth",exact:!0}),!O.refreshToken&&Object(U.jsx)(h.a,{from:"/mail",to:"/auth",exact:!0}),!O.refreshToken&&Object(U.jsx)(h.a,{from:"/friends",to:"/auth",exact:!0}),!O.refreshToken&&Object(U.jsx)(h.a,{from:"/profile",to:"/auth",exact:!0}),O.refreshToken&&Object(U.jsx)(h.a,{from:"/",to:"/profile",exact:!0}),O.refreshToken&&Object(U.jsx)(h.a,{from:"/auth",to:"/profile",exact:!0}),O.refreshToken&&Object(U.jsx)(h.b,{path:"/looks",component:re}),O.refreshToken&&Object(U.jsx)(h.b,{path:"/items",component:he}),O.refreshToken&&Object(U.jsx)(h.b,{path:"/mail",component:de}),O.refreshToken&&Object(U.jsx)(h.b,{path:"/friends",component:pe}),O.refreshToken&&Object(U.jsx)(h.b,{path:"/profile",component:we}),Object(U.jsx)(h.b,{path:"/info",component:xe})]})})]})})})})));s.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(Ee,{})}),document.getElementById("root"))}},[[498,1,2]]]);
//# sourceMappingURL=main.25050cea.chunk.js.map