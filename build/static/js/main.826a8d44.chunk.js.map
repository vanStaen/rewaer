{"version":3,"sources":["components/openNotification/openNotification.js","stores/authStore.js","components/LoginForm/LoginForm.jsx","pages/auth/Auth.jsx","pages/looks/fetchLooks.js","components/EditableTitle/patchTitle.js","components/EditableTitle/EditableTitle.jsx","pages/looks/LookCard/deleteLook.js","pages/looks/LookCard/LookCard.jsx","pages/looks/LookForm/LookForm.jsx","pages/looks/Looks.jsx","pages/items/fetchItems.js","pages/items/ItemCard/deleteItem.js","pages/items/ItemCard/ItemCard.jsx","pages/items/ItemForm/ItemForm.jsx","pages/items/Items.jsx","pages/mail/Mail.js","pages/friends/Friends.jsx","pages/info/Info.jsx","stores/userStore.js","pages/profil/Profil.js","components/MenuBar/MenuBar.jsx","App.js","index.js"],"names":["openNotification","msg","desc","showtime","type","notification","open","message","description","duration","placement","authStore","token","refreshToken","localStorage","getItem","login","logout","removeItem","clear","deleteRequest","fetch","process","method","body","JSON","stringify","headers","then","res","status","Error","catch","err","console","log","getNewToken","decodedRefreshToken","jsonwebtoken","decode","complete","dateNow","Date","payload","exp","getTime","decodedToken","Math","floor","requestBody","json","resData","setItem","makeObservable","this","observable","action","LoginForm","props","switchModeHandler","setState","prevState","isLogin","state","name","className","initialValues","remember","onFinish","values","email","password","a","response","error","errors","query","Authorization","user","fetchLogin","userId","fetchUser","data","username","createUser","newUser","Item","hidden","rules","required","prefix","UserOutlined","placeholder","MailOutlined","Password","LockOutlined","iconRender","visible","EyeOutlined","EyeInvisibleOutlined","valuePropName","noStyle","href","htmlType","style","color","cursor","onClick","Component","AuthPage","fetchLooks","axios","url","looks","title","id","EditableTitle","useState","replace","length","slice","setTitle","isEditMode","setIsEditmode","editInputValue","setEditInputValue","patchTitleInDB","patchTitle","size","value","onChange","e","target","onBlur","onPressEnter","onDoubleClick","Meta","Card","LookCard","spinnerFormated","hoverable","bordered","width","marginBottom","height","cover","alt","look","src","mediaUrlThumb","_id","onConfirm","deleteLook","success","icon","DeleteOutlined","setIsOutOfDate","okText","cancelText","QuestionCircleOutlined","LookForm","isUploading","setIsUploading","fileSelectHandler","event","submitHandler","files","file","postNewLook","newLook","formData","FormData","append","post","mediaUrl","imageUrl","thumbUrl","mediaUrlMedium","mediumUrl","moment","format","onSubmit","htmlFor","CameraOutlined","LooksPage","setLooks","isOutOfDate","isLoading","setIsLoading","setError","useEffect","loadLooks","lookList","map","justify","fetchItems","items","ItemCard","item","deleteItem","ItemForm","SkinOutlined","ItemsPage","setItems","loadItems","itemList","MailPage","FriendsPage","persons","get","person","React","Title","Typography","Paragraph","Text","InfoPage","level","background","padding","copyable","text","tooltips","plain","ellipsis","rows","expandable","symbol","disabled","userStore","parse","ProfilPage","observer","SubMenu","Menu","MenuBar","handleClick","menuSelected","key","selectedKeys","mode","margin","float","to","count","offset","LogoutOutlined","TeamOutlined","QuestionOutlined","App","interceptors","request","use","config","validateStatus","Promise","reject","Fragment","from","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.826a8d44.chunk.js","sourcesContent":["import { notification } from \"antd\";\n\nexport const openNotification = (msg, desc, showtime, type) => {\n    notification.open({\n        message: msg,\n        description: desc,\n        duration: showtime,\n        type: type,\n        placement: \"bottomRight\",\n    });\n};","import { action, makeObservable, observable } from \"mobx\";\nimport { openNotification } from \"../components/openNotification/openNotification\";\nimport jsonwebtoken from \"jsonwebtoken\";\n\nexport class AuthStore {\n\n    token = null;\n    refreshToken = localStorage.getItem(\"refreshToken\") || null;\n\n    constructor() {\n        makeObservable(this, {\n            token: observable,\n            refreshToken: observable,\n            login: action,\n            logout: action,\n            getNewToken: action,\n        });\n    }\n\n    login = (token, refreshToken) => {\n        this.token = token;\n        this.refreshToken = refreshToken;\n    };\n\n    logout = () => {\n        // Delete refreshtoken from localstorage, \n        localStorage.removeItem(\"refreshToken\");\n        localStorage.removeItem(\"userId\");\n        localStorage.removeItem(\"user\");\n        localStorage.clear();\n        const deleteRequest = { refreshToken: this.refreshToken }\n        this.token = null;\n        this.refreshToken = null;\n        // Delete token from store\n        fetch(process.env.REACT_APP_AUTH_URL + \"/logout\", {\n            method: \"DELETE\",\n            body: JSON.stringify(deleteRequest),\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then((res) => {\n                if (res.status !== 204) {\n                    openNotification(\"Error \" + res.status,\n                        \"Error on logout: The refresh token was not found in the token database.\", 3, \"error\");\n                    throw new Error(\"Error when logout!\"); // Probably was the refresh not found in the db\n                }\n                openNotification(\"You have successfully logged out.\", \"\", 3, \"success\");\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    getNewToken = () => {\n        const refreshToken = localStorage.getItem(\"refreshToken\");\n        // Check if refreshtoken is expired\n        if (refreshToken) {\n            let decodedRefreshToken = jsonwebtoken.decode(refreshToken, { complete: true });\n            let dateNow = new Date();\n            if ((decodedRefreshToken.payload.exp * 1000) < dateNow.getTime()) {\n                this.logout();\n            } else {\n                this.refreshToken = refreshToken;\n            }\n        }\n        // Check if token exist and/or is expired\n        if (this.token !== null) {\n            let decodedToken = jsonwebtoken.decode(this.token, { complete: true });\n            let dateNow = new Date();\n            if (decodedToken.payload.exp < Math.floor(dateNow.getTime() / 1000)) {\n                this.token = null;\n            } else {\n                return this.token\n            }            \n        }\n        // Refresh token if token missing\n        else if (this.refreshToken) {            \n            let requestBody = { refreshToken: this.refreshToken };\n            return fetch(process.env.REACT_APP_AUTH_URL + \"/token\", {\n                method: \"POST\",\n                body: JSON.stringify(requestBody),\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            })\n                .then((res) => {\n                    if (res.status !== 201) {\n                        this.logout();\n                        throw new Error(\"Error when refreshing the token!\");\n                    }\n                    return res.json();\n                })\n                .then((resData) => {\n                    localStorage.setItem(\"refreshToken\", resData.refreshToken);\n                    if (resData.token) {\n                        this.login(\n                            resData.token,\n                            resData.refreshToken\n                        );\n                        return resData.token\n                    }\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n        }\n    }\n\n}\n\nexport const authStore = new AuthStore();\n","import React, { Component } from \"react\";\nimport { authStore } from \"../../stores/authStore\";\nimport { Form, Input, Button, Checkbox } from \"antd\";\nimport { openNotification } from \"../openNotification/openNotification\";\nimport {\n  UserOutlined,\n  MailOutlined,\n  LockOutlined,\n  EyeInvisibleOutlined,\n  EyeOutlined,\n} from \"@ant-design/icons\";\n\nimport \"./LoginForm.css\";\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogin: true,\n    };\n  }\n\n  switchModeHandler = () => {\n    this.setState((prevState) => {\n      return { isLogin: !prevState.isLogin };\n    });\n  };\n\n  render() {\n    const submitHandler = (values) => {\n      const email = values.email;\n      const password = values.password;\n      const remember = values.remember;\n\n      let requestBody = { email: email, password: password };\n\n      async function createUser() {\n        const response = await fetch(process.env.REACT_APP_API_URL, {\n          method: \"POST\",\n          body: JSON.stringify(requestBody),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n        if ((response.status !== 200) & (response.status !== 201)) {\n          const error = await response.json();\n          openNotification(error.errors[0].message, \"\", 3, \"warning\");\n          const message = `An error has occured: ${response.status} - ${error.errors[0].message}`;\n          throw new Error(message);\n        }\n        const login = await response.json();\n        return login;\n      }\n\n      async function fetchLogin() {\n        const response = await fetch(\n          process.env.REACT_APP_AUTH_URL + \"/login\",\n          {\n            method: \"POST\",\n            body: JSON.stringify(requestBody),\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        if ((response.status !== 200) & (response.status !== 201)) {\n          const error = await response.json();\n          openNotification(error.error, \"\", 3, \"warning\");\n          const message = `An error has occured: ${response.status} - ${error.error}`;\n          throw new Error(message);\n        }\n        const login = await response.json();\n        return login;\n      }\n\n      async function fetchUser(token) {\n        const requestBody = {\n          query: `\n                query {\n                  user {\n                    name\n                    email\n                    dateCreated\n                    avatar\n                    active\n                  }\n                }\n                  `,\n        };\n        const response = await fetch(process.env.REACT_APP_API_URL, {\n          method: \"POST\",\n          body: JSON.stringify(requestBody),\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + token,\n          },\n        });\n        if ((response.status !== 200) & (response.status !== 201)) {\n          const error = await response.json();\n          openNotification(\"Error \" + response.status, error.error, 0, \"error\");\n          const message = `An error has occured: ${response.status}`;\n          throw new Error(message);\n        }\n        const user = await response.json();\n        return user;\n      }\n\n      // Register\n      if (!this.state.isLogin) {\n        const username = values.username;\n        requestBody = {\n          query: `\n              mutation {\n                  createUser(\n                    userInput: { name: \"${username}\", email: \"${email}\", password: \"${password}\" }\n                  ) {\n                    name\n                  }\n                }\n                `,\n        };\n        createUser()\n          .then((resData) => {\n            const newUser = resData.data.createUser.name;\n            openNotification(\n              \"Account successully created.\",\n              \"Kudos to you \" +\n                newUser +\n                \"! You can now log into your account.\",\n              5,\n              \"success\"\n            );\n          })\n          .catch((error) => {\n            console.log(error.message);\n          });\n      } else {\n        // login\n        fetchLogin()\n          .then((resData) => {\n            authStore.login(resData.token, resData.refreshToken);\n            if (remember === true) {\n              // Store RefreshToken and ID, only if \"remember\" set to true.\n              localStorage.setItem(\"refreshToken\", resData.refreshToken);\n              localStorage.setItem(\"userId\", resData.userId);\n            }\n            openNotification(\"You have successully log in.\", \"\", 3, \"success\");\n            // Get user infos\n            fetchUser(resData.token)\n              .then((resData) => {\n                const user = resData.data.user[0];\n                localStorage.setItem(\"user\", JSON.stringify(user));\n              })\n              .catch((error) => {\n                console.log(error.message);\n              });\n          })\n          .catch((error) => {\n            console.log(error.message);\n          });\n      }\n    };\n\n    return (\n      <Form\n        name=\"normal_login\"\n        className=\"login-form\"\n        initialValues={{\n          remember: true,\n        }}\n        onFinish={submitHandler}\n      >\n        <Form.Item\n          name=\"username\"\n          hidden={this.state.isLogin}\n          rules={[\n            {\n              required: !this.state.isLogin,\n              message: \"How should we call you?\",\n            },\n          ]}\n        >\n          <Input\n            prefix={<UserOutlined className=\"site-form-item-icon\" />}\n            placeholder=\"Name\"\n          />\n        </Form.Item>\n\n        <Form.Item\n          name=\"email\"\n          rules={[\n            {\n              type: \"email\",\n              required: true,\n              message: \"Please input your Email!\",\n            },\n          ]}\n        >\n          <Input\n            prefix={<MailOutlined className=\"site-form-item-icon\" />}\n            placeholder=\"Email\"\n          />\n        </Form.Item>\n        <Form.Item\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: \"Please input your Password!\",\n            },\n          ]}\n        >\n          <Input.Password\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\n            placeholder=\"input Password\"\n            iconRender={(visible) =>\n              visible ? <EyeOutlined /> : <EyeInvisibleOutlined />\n            }\n          />\n        </Form.Item>\n        <Form.Item hidden={!this.state.isLogin}>\n          <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n            <Checkbox>Remember me</Checkbox>\n          </Form.Item>\n\n          <a className=\"login-form-forgot\" href=\"/#\">\n            Recover password\n          </a>\n        </Form.Item>\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login-form-button\"\n          >\n            {this.state.isLogin ? \"Log in\" : \"Create account\"}\n          </Button>\n          Or{\" \"}\n          <span\n            style={{ color: \"#6C917D\", cursor: \"pointer\" }}\n            onClick={this.switchModeHandler}\n          >\n            {this.state.isLogin ? \"register now!\" : \"log into your account!\"}\n          </span>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from \"react\";\nimport LoginForm from \"../../components/LoginForm/LoginForm\";\n\nimport './Auth.css';\n\nclass AuthPage extends Component {\n  render() {\n    return (\n      <div className=\"auth__main\">\n        <div className=\"auth__centeredlogin\">\n          <LoginForm />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AuthPage;\n","import axios from 'axios';\n\nexport default async function fetchLooks() {\n    const requestBody = {\n      query: `\n            query {\n                looks {\n                  _id\n                  title\n                  active\n                  favorite\n                  mediaUrlThumb\n                }\n              }\n              `,\n    };\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL,\n        method: \"POST\",\n        data: requestBody,\n    });\n    if ((response.status !== 200) & (response.status !== 201)) {\n        throw new Error(\"Unauthenticated!\");\n    }    \n    const looks = await response.data.data.looks;\n    return looks;\n  };","import axios from 'axios';\nimport { notification} from \"antd\";\n\nexport default async function patchTitle(title, id, type ) {\n\n    let requestBody = {};\n\n    if (type === \"look\"){\n        requestBody = {\n            query: `\n                mutation {\n                    updateLook(\n                        lookId: \"${id}\"\n                        lookInput: { title: \"${title}\" }\n                    ) {\n                        title\n                    }\n                }\n                `,\n        };\n    } else if (type === \"item\") {\n        requestBody = {\n            query: `\n                mutation {\n                    updateItem(\n                        itemId: \"${id}\"\n                        itemInput: { title: \"${title}\" }\n                    ) {\n                        title\n                    }\n                }\n                `,\n        };\n    } else {\n        throw new Error(\"Type missing!\");\n    }\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        notification.error({\n        message: `Unauthenticated!`,\n        placement: \"bottomRight\",\n        });\n        throw new Error(\"Unauthenticated!\");\n    }\n\n    console.log(response);\n\n    return response;\n\n};","import React from \"react\";\nimport { useState } from \"react\";\nimport { Input, notification } from \"antd\";\nimport patchTitle from \"./patchTitle\";\nimport \"./EditableTitle.css\";\n\nconst EditableTitle = (props) => {\n  const [title, setTitle] = useState(\n    props.title.replace(/ /g, \"\").length > 23\n      ? `${props.title.replace(\"-\", \"/\").replace(/ /g, \"\").slice(0, 23)}...`\n      : props.title.replace(\"-\", \"/\").replace(/ /g, \"\")\n  );\n  const [isEditMode, setIsEditmode] = useState(false);\n  const [editInputValue, setEditInputValue] = useState(\n    props.title.replace(\"-\", \"/\")\n  );\n\n  const patchTitleInDB = (title) => {\n    // fetch Entries\n    patchTitle(title, props.id, props.type).catch((error) => {\n      notification.error({ description: `Unauthorized! Please login.` });\n      console.log(\"error\", error.message);\n    });\n  };\n\n  const handleEditChange = (e) => {\n    setEditInputValue(e.target.value);\n  };\n\n  const handleEditCancel = () => {\n    setIsEditmode(false);\n    setEditInputValue(props.title.replace(\"-\", \"/\"));\n    console.log(\"cancel\");\n  };\n\n  const handleEditConfirm = () => {\n    patchTitleInDB(editInputValue.replace(\"/\", \"-\"));\n    setTitle(\n      editInputValue.replace(/ /g, \"\").length > 23\n        ? `${editInputValue\n            .replace(\"-\", \"/\")\n            .replace(/ /g, \"\")\n            .slice(0, 23)}...`\n        : editInputValue.replace(\"-\", \"/\").replace(/ /g, \"\")\n    );\n    setIsEditmode(false);\n  };\n\n  return (\n    <div>\n      {isEditMode ? (\n        <Input\n          key={`title_input_${props.id}`}\n          size=\"small\"\n          className=\"title__input\"\n          value={editInputValue}\n          onChange={handleEditChange}\n          onBlur={handleEditCancel}\n          onPressEnter={handleEditConfirm}\n        />\n      ) : (\n        <div\n          className=\"Page__title\"\n          onDoubleClick={() => {\n            setIsEditmode(true);\n          }}\n        >\n          {title}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EditableTitle;\n","import axios from 'axios';\n\nexport default async function deleteLook(id) {\n\n    const requestBody = {\n        query: `\n            mutation {\n                deleteLook(lookId: \"${id}\") {\n                _id\n                }\n            }\n            `,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        throw new Error(\"Unauthenticated!\");\n    }\n\n};","import React from \"react\";\nimport { Image, Card, notification, Spin, Popconfirm } from \"antd\";\nimport { DeleteOutlined, QuestionCircleOutlined } from \"@ant-design/icons\";\nimport EditableTitle from \"../../../components/EditableTitle/EditableTitle\";\nimport deleteLook from \"./deleteLook\";\n\nimport \"./LookCard.css\";\n\nconst { Meta } = Card;\n\nconst LookCard = (props) => {\n  const spinnerFormated = (\n    <div className=\"card__spinner\">\n      <Spin size=\"middle\" />\n    </div>\n  );\n\n  const handleDelete = () => {\n    // delete Look\n    deleteLook(props.look._id)\n      .then(() => {\n        notification.success({\n          message: `Look deleted successfully.`,\n          placement: \"bottomRight\",\n          icon: <DeleteOutlined style={{ color: \"green\" }} />,\n        });\n        props.setIsOutOfDate(true);\n        console.log(\"Success!\");\n      })\n      .catch((error) => {\n        notification.error({ message: `Error!`, placement: \"bottomRight\" });\n        console.log(error.message);\n      });\n  };\n\n  return (\n    <Card\n      hoverable\n      bordered\n      style={{ width: 240, marginBottom: 30, height: 385 }}\n      cover={\n        <Image\n          alt={props.look.title}\n          src={props.look.mediaUrlThumb}\n          placeholder={spinnerFormated}\n          width={240}\n          height={320}\n        />\n      }\n    >\n      <Meta\n        title={\n          <div>\n            <EditableTitle\n              title={props.look.title}\n              id={props.look._id}\n              type={\"look\"}\n            />\n            <Popconfirm\n              title=\"Are you sure to delete this look?\"\n              onConfirm={handleDelete}\n              okText=\"Delete\"\n              cancelText=\"Cancel\"\n              icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\n            >\n              <DeleteOutlined />\n            </Popconfirm>\n          </div>\n        }\n      />\n    </Card>\n  );\n};\n\nexport default LookCard;\n","import React, { Fragment, useState } from \"react\";\nimport { notification, Spin } from 'antd';\n\nimport axios from \"axios\";\nimport moment from 'moment';\n\nimport { CameraOutlined } from '@ant-design/icons';\n\n\nimport \"./LookForm.css\";\n\nconst LookForm = (props) => {\n  const [isUploading, setIsUploading] = useState(false);\n\n  const fileSelectHandler = async (event) => {\n    setIsUploading(true);\n    submitHandler(event.target.files[0]);\n  }\n\n  const submitHandler = async (file) => {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    async function postNewLook(requestBody) {\n\n      const response = await axios({\n        url: process.env.REACT_APP_API_URL,\n        method: \"POST\",\n        data: requestBody,\n      });\n      if ((response.status !== 200) & (response.status !== 201)) {\n        notification.error({ message: `Unauthenticated!`, placement: \"bottomRight\", });\n        throw new Error(\"Unauthenticated!\");\n      }\n      const newLook = await response.data;\n      return newLook;\n    }\n\n    try {\n      const res = await axios.post(process.env.REACT_APP_API_URL_UPLOAD, formData)\n      // Create Look entry\n      const mediaUrl = res.data.imageUrl\n      const mediaUrlThumb = res.data.thumbUrl\n      const mediaUrlMedium = res.data.mediumUrl\n      const title = moment().format('DD.MM.YYYY');\n      const requestBody = {\n        query: `\n            mutation {\n                createLook(\n                  lookInput: { mediaUrl: \"${mediaUrl}\", \n                               mediaUrlThumb: \"${mediaUrlThumb}\",\n                               mediaUrlMedium: \"${mediaUrlMedium}\",\n                               title: \"${title}\" }\n                ) {\n                  _id\n                }\n              }\n              `\n      };\n      // post new Look\n      postNewLook(requestBody)\n        .then(() => {\n          notification.success({ message: `File uploaded successfully.`, placement: \"bottomRight\", });\n          // retrigger parent component rendering\n          props.setIsOutOfDate(true);\n          console.log('Success!');\n        }\n        ).catch(error => {\n          notification.error({ message: `File upload failed.`, placement: \"bottomRight\", });\n          console.log(error.message);\n        });\n      setIsUploading(false);\n    } catch (err) {\n      notification.error({ message: `File upload failed.`, placement: \"bottomRight\", });\n      setIsUploading(false);\n      console.log(err)\n    }\n  }\n\n  return (\n    <Fragment>\n      <form\n        onSubmit={submitHandler}\n        style={{ marginBottom: \"30px\" }}\n      >\n        <input\n          type=\"file\"\n          className=\"inputfile\"\n          name=\"inputfile\"\n          id=\"file\"\n          onChange={fileSelectHandler}\n        />\n        {isUploading ?\n          (<label htmlFor=\"file\">\n            <Spin size=\"large\" />\n          </label>) :\n          (<label htmlFor=\"file\">\n            <p className=\"form-upload-drag-icon\">\n              <CameraOutlined />\n            </p>\n            <p className=\"form-upload-text\">Create Look</p>\n            <p className=\"form-upload-hint\">\n              Start with a photo <br />\n          Click, or drag here a file\n        </p>\n          </label>)}\n      </form>\n    </Fragment >\n  );\n};\n\nexport default LookForm;\n\n","import React, { useState, useEffect } from \"react\";\nimport { Col, Row, Spin } from \"antd\";\n\nimport fetchLooks from \"./fetchLooks\";\n\nimport LookCard from \"./LookCard/LookCard\";\nimport LookForm from \"./LookForm/LookForm\";\n\nimport \"./Looks.css\";\n\nconst LooksPage = () => {\n  const [looks, setLooks] = useState([]);\n  const [isOutOfDate, setIsOutOfDate] = useState(true);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadLooks();\n  }, [isOutOfDate]);\n\n  // Use Callback\n  /* mobx store\n  @observable\n  looks\n  isloading\n  isOutOfDate\n  @action\n  loadLooks(){ \n    loadlooks() \n    set hier the looks\n    // await -> run_in_action  \n  }\n  */\n\n  const loadLooks = async () => {\n    try {\n      const looks = await fetchLooks();\n      setLooks(looks);\n      setIsLoading(false);\n      setIsOutOfDate(false);\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }\n  };\n\n  const lookList = looks.map((look) => {\n    return (\n      <Col key={look._id}>\n        <LookCard look={look} setIsOutOfDate={setIsOutOfDate} />\n      </Col>\n    );\n  });\n\n  return (\n    <div>\n      {error !== null ? (\n        error\n      ) : isLoading ? (\n        <div className=\"looks__spinner\">\n          <Spin size=\"large\" />\n        </div>\n      ) : (\n        <Row justify={\"space-around\"}>\n          <Col>\n            <LookForm setIsOutOfDate={setIsOutOfDate} />\n          </Col>\n          {lookList}\n        </Row>\n      )}\n    </div>\n  );\n};\n\nexport default LooksPage;\n","import axios from 'axios';\n\nexport default async function fetchItems() {\n    const requestBody = {\n        query: `\n              query {\n                  items {\n                    _id\n                    user\n                    title\n                    active\n                    favorite\n                    dateCreated\n                    mediaUrlThumb\n                  }\n                }\n                `,\n      };\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL,\n        method: \"POST\",\n        data: requestBody,\n    });\n    if ((response.status !== 200) & (response.status !== 201)) {\n        throw new Error(\"Unauthenticated!\");\n    }\n    const items = await response.data.data.items;\n    return items;\n  };","import axios from 'axios';\n\nexport default async function deleteItem(id) {\n\n    const requestBody = {\n        query: `\n            mutation {\n                deleteItem(itemId: \"${id}\") {\n                _id\n                }\n            }\n            `,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        throw new Error(\"Unauthenticated!\");\n    }\n\n};","import React from \"react\";\nimport { Image, Card, notification, Spin, Popconfirm } from \"antd\";\nimport { DeleteOutlined, QuestionCircleOutlined } from \"@ant-design/icons\";\nimport EditableTitle from \"../../../components/EditableTitle/EditableTitle\";\nimport deleteItem from \"./deleteItem\";\n\nimport \"./ItemCard.css\";\n\nconst { Meta } = Card;\n\nconst ItemCard = (props) => {\n  const spinnerFormated = (\n    <div className=\"card__spinner\">\n      <Spin size=\"middle\" />\n    </div>\n  );\n\n  const handleDelete = () => {\n    // delete Item\n    deleteItem(props.item._id)\n      .then(() => {\n        notification.success({\n          message: `Item deleted successfully.`,\n          placement: \"bottomRight\",\n          icon: <DeleteOutlined style={{ color: \"green\" }} />,\n        });\n        props.setIsOutOfDate(true);\n        console.log(\"Success!\");\n      })\n      .catch((error) => {\n        notification.error({ message: `Error!`, placement: \"bottomRight\" });\n        console.log(error.message);\n      });\n  };\n\n  return (\n    <Card\n      hoverable\n      bordered\n      style={{ width: 240, marginBottom: 30, height: 385 }}\n      cover={\n        <Image\n          alt={props.item.title}\n          src={props.item.mediaUrlThumb}\n          placeholder={spinnerFormated}\n          width={240}\n          height={320}\n        />\n      }\n    >\n      <Meta\n        title={\n          <div>\n            <EditableTitle\n              title={props.item.title}\n              id={props.item._id}\n              type={\"item\"}\n            />\n            <Popconfirm\n              title=\"Are you sure to delete this item?\"\n              onConfirm={handleDelete}\n              okText=\"Delete\"\n              cancelText=\"Cancel\"\n              icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\n            >\n              <DeleteOutlined />\n            </Popconfirm>\n          </div>\n        }\n      />\n    </Card>\n  );\n};\n\nexport default ItemCard;\n","import React, { Fragment, useState } from \"react\";\nimport { notification, Spin } from 'antd';\n\nimport axios from \"axios\";\nimport moment from 'moment';\n\nimport { SkinOutlined } from '@ant-design/icons';\n\nimport \"./ItemForm.css\";\n\nconst ItemForm = (props) => {\n  const [isUploading, setIsUploading] = useState(false);\n\n  const fileSelectHandler = async (event) => {\n    setIsUploading(true);\n    submitHandler(event.target.files[0]);\n  }\n\n  const submitHandler = async (file) => {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    async function postNewLook(requestBody) {\n\n      const response = await axios({\n        url: process.env.REACT_APP_API_URL,\n        method: \"POST\",\n        data: requestBody,\n      });\n      if ((response.status !== 200) & (response.status !== 201)) {\n        notification.error({ message: `Unauthenticated!`, placement: \"bottomRight\", });\n        throw new Error(\"Unauthenticated!\");\n      }\n      const newLook = await response.data;\n      return newLook;\n    }\n\n    try {\n      const res = await axios.post(process.env.REACT_APP_API_URL_UPLOAD, formData)\n      // Create Item entry\n      const mediaUrl = res.data.imageUrl\n      const mediaUrlThumb = res.data.thumbUrl\n      const mediaUrlMedium = res.data.mediumUrl\n      const title = moment().format('DD.MM.YYYY');\n      const requestBody = {\n        query: `\n            mutation {\n                createItem(\n                  itemInput: { mediaUrl: \"${mediaUrl}\", \n                               mediaUrlThumb: \"${mediaUrlThumb}\",\n                               mediaUrlMedium: \"${mediaUrlMedium}\",\n                               title: \"${title}\" }\n                ) {\n                  _id\n                }\n              }\n              `\n      };\n      console.log(\"requestBody\", requestBody);\n      // post new Item\n      postNewLook(requestBody)\n        .then(() => {\n          notification.success({ message: `File uploaded successfully.`, placement: \"bottomRight\", });\n          // retrigger parent component rendering\n          props.setIsOutOfDate(true);\n          console.log('Success!');\n        }\n        ).catch(error => {\n          notification.error({ message: `File upload failed.`, placement: \"bottomRight\", });\n          console.log(error.message);\n        });\n      setIsUploading(false);\n    } catch (err) {\n      notification.error({ message: `File upload failed.`, placement: \"bottomRight\", });\n      setIsUploading(false);\n      console.log(err)\n    }\n  }\n\n  return (\n    <Fragment>\n      <form\n        onSubmit={submitHandler}\n        style={{ marginBottom: \"30px\" }}\n      >\n        <input\n          type=\"file\"\n          className=\"inputfile\"\n          name=\"inputfile\"\n          id=\"file\"\n          onChange={fileSelectHandler}\n        />\n        {isUploading ?\n          (<label htmlFor=\"file\">\n            <Spin size=\"large\" />\n          </label>) :\n          (<label htmlFor=\"file\">\n            <p className=\"form-upload-drag-icon\">\n              <SkinOutlined />\n            </p>\n            <p className=\"form-upload-text\">Add Item</p>\n            <p className=\"form-upload-hint\">\n              Start with a photo <br />\n          Click, or drag here a file\n        </p>\n          </label>)}\n      </form>\n    </Fragment >\n  );\n};\n\nexport default ItemForm;\n\n","import React, { useState, useEffect } from \"react\";\nimport { Col, Row, Spin } from \"antd\";\n\nimport fetchItems from \"./fetchItems\";\n\nimport ItemCard from \"./ItemCard/ItemCard\";\nimport ItemForm from \"./ItemForm/ItemForm\";\n\nimport \"./Items.css\";\n\nconst ItemsPage = () => {\n  const [items, setItems] = useState([]);\n  const [isOutOfDate, setIsOutOfDate] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadItems();\n  }, [isOutOfDate]);\n\n  const loadItems = async () => {\n    try {\n      const items = await fetchItems();\n      setItems(items);\n      setIsLoading(false);\n      setIsOutOfDate(false);\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }\n  };\n\n  const itemList = items.map((item) => {\n    return (\n      <Col key={item._id}>\n        <ItemCard item={item} setIsOutOfDate={setIsOutOfDate} />\n      </Col>\n    );\n  });\n\n  return (\n    <div>\n      {error !== null ? (\n        error\n      ) : isLoading ? (\n        <div className=\"looks__spinner\">\n          <Spin size=\"large\" />\n        </div>\n      ) : (\n        <Row justify={\"space-around\"}>\n          <Col>\n            <ItemForm setIsOutOfDate={setIsOutOfDate} />\n          </Col>\n          {itemList}\n        </Row>\n      )}\n    </div>\n  );\n};\n\nexport default ItemsPage;\n","import React, { Component } from \"react\";\n\nclass MailPage extends Component {\n  render() {\n    return <h1>Messenger</h1>;\n  }\n}\n\nexport default MailPage;\n","import React from 'react';\nimport axios from 'axios';\n\nexport default class FriendsPage extends React.Component {\n  state = {\n    persons: []\n  }\n\n  componentDidMount() {\n    axios.get(`https://jsonplaceholder.typicode.com/users`)\n      .then(res => {\n        const persons = res.data;\n        this.setState({ persons });\n      })\n  }\n\n  render() {\n    return (\n      <ul>\n        { this.state.persons.map(person => <li>{person.name}</li>)}\n      </ul>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { Typography, Divider } from \"antd\";\n\nconst { Title, Paragraph, Text } = Typography;\n\nclass InfoPage extends Component {\n  render() {\n    return (\n      <div>\n        <Title level={2}>Rewr, the green Fashion App</Title>\n        <Paragraph>\n          <Text type=\"secondary\">\n            The Fashion App for minimalistic and sustainable geniuses! <br />\n            <span\n              style={{\n                background: \"#6d917e\",\n                color: \"#FFFFFF\",\n                padding: \"2px 3px\",\n              }}\n            >\n              Renew your garderobe without buying: only trees should get new\n              leaves every years.\n            </span>\n          </Text>\n        </Paragraph>\n        <Paragraph\n          copyable={{\n            text: \"admin@rewear.com\",\n            tooltips: [\"Copy email\", \"Email copied!\"],\n          }}\n        >\n          Please address any questions/comments to <b>admin@rewear.com.</b>\n        </Paragraph>\n\n        <Divider plain>What is Rewr?</Divider>\n        <Paragraph ellipsis={{ rows: 3, expandable: true, symbol: \"more\" }}>\n          Rewr is promoting green fashion based on the principle that{\" \"}\n          <span style={{ background: \"#C8D6CF\" }}>\n            the most sustainable piece of clothing is the one you already have\n          </span>\n          . Offered as a multiplatform application - Web, iOS and Android - it\n          aims at organising your garderobe, keep track of your favorites looks\n          and helps you discover new combination to wear the clothes you already\n          have. It has two main components: fashion organisator and social\n          media. Those two are linked as you can authorise friends to have a\n          look in your garderobe to help you create looks based on your items.\n          You can also use the app to open your garderobe in-real-life and share\n          items with your hand pick best friends.\n        </Paragraph>\n\n        <Divider plain>Why do you need it?</Divider>\n        <Paragraph ellipsis={{ rows: 3, expandable: true, symbol: \"more\" }}>\n          <em>I don't know what to wear! Do I need new clothes?</em> Fashion accounts for \n          around 10% of greenhouse gas emissions from human activity, but there \n          are ways to reduce the impact your wardrobe has on the climate:{\" \"}\n          <span style={{ background: \"#C8D6CF\" }}>\n            not buying new clothes you don't need\n          </span>{\" \"}\n          is one of those solution. Or buying quality things that will last. Or\n          simply getting items you can combine with the stuff you already have,\n          and avoid having unworn brandnew stuff laying around forever in your\n          drawer. But also,{\" \"}\n          <span style={{ background: \"#C8D6CF\" }}>\n            Rewr is your own stylist\n          </span>\n          : by keeping track of your favorite styles and items, it will help you\n          get dress, to style items you like and own but never think of wearing\n          - or know how to wear; and get your friends to help you with it!\n          Without buying anything new, you will rediscover your own clothes, and\n          have the feeling of a brand new garderobe, without spending a cent!{\" \"}\n        </Paragraph>\n\n        <Divider plain>How far are we?</Divider>\n        <Paragraph ellipsis={{ rows: 3, expandable: true, symbol: \"more\" }}>\n          We are still working on a first version including the minimum viables\n          features. The backend is done, and the first prototype will be ready\n          soon and open to any willing beta tester!{\" \"}\n          <span style={{ background: \"#C8D6CF\" }}>\n            You can already create an account\n          </span>\n          , and we will ping out when it's ready! The first feature includes the\n          main garderobe functions: mangement of <em>Items</em> and{\" \"}\n          <em>Looks</em>, and basic social fonctionalities.\n        </Paragraph>\n\n        {/*\n        <Divider orientation=\"left\" plain>\n          Sustainable fashion\n        </Divider>\n        <Paragraph>\n          https://www.sustainablefashionmatterz.com/what-is-sustainable-fashion\n        </Paragraph>   \n        */}\n\n        <Divider />\n        <Paragraph disabled>\n          App running in {process.env.NODE_ENV} mode.\n          <br />\n          2021 Rewr All Rights Reserved\n        </Paragraph>\n      </div>\n    );\n  }\n}\n\nexport default InfoPage;\n","import { makeObservable, observable } from \"mobx\";\n\nexport class UserStore {\n\n    user = JSON.parse(localStorage.getItem('user'));\n    userId = localStorage.getItem('userId');\n\n    constructor() {\n        makeObservable(this, {\n            user: observable,\n            userId: observable,\n        });\n    }\n\n}\n\nexport const userStore = new UserStore();","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { authStore } from '../../stores/authStore';\nimport { userStore } from '../../stores/userStore';\nimport { Typography } from \"antd\";\n\nconst { Title, Paragraph } = Typography;\n\nconst ProfilPage = observer(() => {\n\n  return (\n    <div>\n      <Title level={3}>Hello, {userStore.user ? userStore.user.name : 'there'}\n      </Title>\n      <Paragraph copyable>\n        <b>User ID:</b> {userStore.userId}\n      </Paragraph>\n      { process.env.NODE_ENV === \"development\" && (\n        <div>\n\n          <Paragraph\n            copyable={{\n              text: authStore.token,\n              tooltips: [\"Copy token\", \"Token copied!\"],\n            }}\n          >\n            <b>Access Token : </b>{authStore.token}\n          </Paragraph>\n          <Paragraph\n            copyable={{\n              text: authStore.refreshToken,\n              tooltips: [\"Copy refresh token\", \"Refresh Token copied!\"],\n            }}\n          >\n            <b>Refresh Token : </b>{authStore.refreshToken}\n          </Paragraph>\n        </div>\n      )}\n\n    </div>\n  );\n});\n\nexport default ProfilPage;\n","import React, { Component } from \"react\";\nimport { authStore } from '../../stores/authStore';\nimport { NavLink } from \"react-router-dom\";\nimport { Menu, Avatar, Badge } from \"antd\";\nimport {\n  UserOutlined,\n  CameraOutlined,\n  SkinOutlined,\n  TeamOutlined,\n  MailOutlined,\n  QuestionOutlined,\n  LogoutOutlined,\n} from \"@ant-design/icons\";\n\nimport \"./MenuBar.css\";\n\nconst { SubMenu } = Menu;\n\nclass MenuBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      menuSelected: null,\n    };\n  }\n\n  handleClick = (event) => {\n    this.setState({ menuSelected: event.key });\n  };\n\n  render() {\n\n    const { menuSelected } = this.state;\n\n    return (\n      <Menu\n        onClick={this.handleClick}\n        selectedKeys={[menuSelected]}\n        mode=\"horizontal\"\n        style={{ margin: \"5px 0px\" }}\n      >\n        <span\n          className=\"menu__RewaerMotto\"\n          style={{\n            color: \"#6C917D\",\n            float: \"left\",\n            margin: \"0px 20px 0px 20px\",\n          }}\n        >\n          Rewr, the green Fashion App\n        </span>\n        {authStore.refreshToken ? (\n          <SubMenu\n            key=\"profile\"\n            title={\n              <NavLink to=\"/profile\">\n                <Badge count={5} offset={[0, 5]}>\n                  <Avatar\n                    src={\"https://avatars0.githubusercontent.com/u/12551446\"}\n                    size=\"large\"\n                  />\n                </Badge>\n              </NavLink>\n            }\n            style={{ float: \"right\" }}\n            onClick={authStore.logout}\n          >\n            <Menu.Item key=\"setting:2\" icon={<LogoutOutlined />}>\n              Logout\n            </Menu.Item>\n            {/*\n            <Menu.ItemGroup title=\"Item 2\">\n              <Menu.Item key=\"setting:3\">Option 3</Menu.Item>\n              <Menu.Item key=\"setting:4\">Option 4</Menu.Item>\n            </Menu.ItemGroup> */}\n          </SubMenu>\n        ) : (\n            <Menu.Item\n              key=\"auth\"\n              icon={<UserOutlined />}\n              style={{ float: \"right\" }}\n            >\n              <NavLink to=\"/auth\"> Login</NavLink>\n            </Menu.Item>\n          )}\n\n        <Menu.Item\n          key=\"looks\"\n          icon={<CameraOutlined />}\n          disabled={!authStore.refreshToken}\n          style={{ float: \"left\" }}\n        >\n          <NavLink to=\"/looks\"> Looks</NavLink>\n        </Menu.Item>\n        <Menu.Item\n          key=\"items\"\n          icon={<SkinOutlined />}\n          disabled={!authStore.refreshToken}\n          style={{ float: \"left\" }}\n        >\n          <NavLink to=\"/items\"> Items</NavLink>\n        </Menu.Item>\n        <Menu.Item\n          key=\"mail\"\n          icon={<MailOutlined />}\n          disabled\n          style={{ float: \"left\" }}\n        >\n          <NavLink to=\"/mail\"> Mail</NavLink>\n        </Menu.Item>\n        <Menu.Item\n          key=\"friends\"\n          icon={<TeamOutlined />}\n          disabled\n          style={{ float: \"left\" }}\n        >\n          <NavLink to=\"/friends\"> Friends</NavLink>\n        </Menu.Item>\n        <Menu.Item key=\"info\" style={{ float: \"left\" }}>\n          <NavLink to=\"/info\">\n            &nbsp;&nbsp;\n            <QuestionOutlined />\n          </NavLink>\n        </Menu.Item>\n      </Menu>\n    );\n  }\n}\n\nexport default MenuBar;\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter, Route, Redirect, Switch } from \"react-router-dom\";\nimport { authStore } from './stores/authStore';\nimport { observer } from \"mobx-react\";\nimport { openNotification } from \"./components/openNotification/openNotification\";\nimport axios from 'axios';\n\nimport AuthPage from \"./pages/auth/Auth\";\nimport LooksPage from \"./pages/looks/Looks\";\nimport ItemsPage from \"./pages/items/Items\";\nimport MailPage from \"./pages/mail/Mail\";\nimport FriendsPage from \"./pages/friends/Friends\";\nimport InfoPage from \"./pages/info/Info\";\nimport ProfilPage from \"./pages/profil/Profil\";\nimport MenuBar from \"./components/MenuBar/MenuBar\";\n\nimport \"./App.css\";\n\nconst App = observer(() => {\n\n  const dummyCall = () => {\n\n    // call the the dummy endpoint to wake the backend.\n    let requestBody = {\n      query: `\n                query {\n                  dummy {\n                    dummy\n                    }\n                  }\n                `,\n    };\n    fetch(process.env.REACT_APP_API_URL, {\n      method: \"POST\",\n      body: JSON.stringify(requestBody),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        return res.json();\n      })\n      .catch((err) => {\n        openNotification(\"Connection to server failed!\",\n          \"The connection could not be established with the backend server.\", 0, \"warning\");\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n\n    // On mount, update token\n    authStore.refreshToken && authStore.login(authStore.getNewToken(), authStore.refreshToken);\n\n    dummyCall();\n\n    // Axios Interceptors\n    axios.interceptors.request.use(async (config) => {\n      const token = authStore.token ?\n      await authStore.token :\n      await authStore.getNewToken();\n      config.headers = {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      }\n      config.validateStatus = (status) => {\n        return true;\n      }\n      return config;\n    }, (error) => {\n      return Promise.reject(error);\n    });\n  }, [])\n\n  return (\n    <div>\n      <BrowserRouter>\n        <React.Fragment>\n          <MenuBar />\n          <main className=\"main-content\">\n            <Switch>\n              {!authStore.refreshToken && (\n                <Redirect from=\"/\" to=\"/auth\" exact />\n              )}\n              {!authStore.refreshToken && (\n                <Route path=\"/auth\" component={AuthPage} />\n              )}\n              {!authStore.refreshToken && (\n                <Redirect from=\"/looks\" to=\"/auth\" exact />\n              )}\n              {!authStore.refreshToken && (\n                <Redirect from=\"/items\" to=\"/auth\" exact />\n              )}\n              {!authStore.refreshToken && (\n                <Redirect from=\"/mail\" to=\"/auth\" exact />\n              )}\n              {!authStore.refreshToken && (\n                <Redirect from=\"/friends\" to=\"/auth\" exact />\n              )}\n              {!authStore.refreshToken && (\n                <Redirect from=\"/profile\" to=\"/auth\" exact />\n              )}\n              {authStore.refreshToken && (\n                <Redirect from=\"/\" to=\"/profile\" exact />\n              )}\n              {authStore.refreshToken && (\n                <Redirect from=\"/auth\" to=\"/profile\" exact />\n              )}\n              {authStore.refreshToken && (\n                <Route path=\"/looks\" component={LooksPage} />\n              )}\n              {authStore.refreshToken && (\n                <Route path=\"/items\" component={ItemsPage} />\n              )}\n              {authStore.refreshToken && (\n                <Route path=\"/mail\" component={MailPage} />\n              )}\n              {authStore.refreshToken && (\n                <Route path=\"/friends\" component={FriendsPage} />\n              )}\n              {authStore.refreshToken && (\n                <Route path=\"/profile\" component={ProfilPage} />\n              )}\n              <Route path=\"/info\" component={InfoPage} />\n            </Switch>\n          </main>\n        </React.Fragment>\n      </BrowserRouter>\n    </div>\n  );\n});\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}